function news(name,list,index){this.name=name,this.list=list,this.index=index,this.pagination=4}function init(data){try{var sections=data&&data.section?data.section:null;sections?$.each(sections,function(index,section){switch(section.name){case"main":main=new news(section.name,section.data,4),main.createMainNewsRow("#news-main-top","top",0),main.createMainNewsRow("#news-main-middle","middle",2),main.createNewsRow("#news-main");break;case"Brasil":brasil=new news(section.name,section.data,0),brasil.createNewsRow("#news-brasil");break;case"Mundo":mundo=new news(section.name,section.data,0),mundo.createNewsRow("#news-mundo");break;default:console.log("Section not identified.")}}):console.log("Data sections not found.")}catch(err){console.log(err.message)}}!function($,window,undefined){"use strict";var Modernizr=window.Modernizr,$body=$("body");$.DLMenu=function(options,element){this.$el=$(element),this._init(options)},$.DLMenu.defaults={animationClasses:{classin:"dl-animate-in-1",classout:"dl-animate-out-1"},onLevelClick:function(el,name){return!1},onLinkClick:function(el,ev){return!1}},$.DLMenu.prototype={_init:function(options){this.options=$.extend(!0,{},$.DLMenu.defaults,options),this._config();var animEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.animEndEventName=animEndEventNames[Modernizr.prefixed("animation")]+".dlmenu",this.transEndEventName=transEndEventNames[Modernizr.prefixed("transition")]+".dlmenu",this.supportAnimations=Modernizr.cssanimations,this.supportTransitions=Modernizr.csstransitions,this._initEvents()},_config:function(){this.open=!1,this.$trigger=this.$el.children(".dl-trigger"),this.$menu=this.$el.children("ul.dl-menu"),this.$menuitems=this.$menu.find("li:not(.dl-back)"),this.$el.find("ul.dl-submenu").prepend('<li class="dl-back"><a href="#">voltar</a></li>'),this.$back=this.$menu.find("li.dl-back")},_initEvents:function(){var self=this;this.$trigger.on("click.dlmenu",function(){return self.open?self._closeMenu():self._openMenu(),!1}),this.$menuitems.on("click.dlmenu",function(event){event.stopPropagation();var $item=$(this),$submenu=$item.children("ul.dl-submenu");if($submenu.length>0){var $flyin=$submenu.clone().css("opacity",0).insertAfter(self.$menu),onAnimationEndFn=function(){self.$menu.off(self.animEndEventName).removeClass(self.options.animationClasses.classout).addClass("dl-subview"),$item.addClass("dl-subviewopen").parents(".dl-subviewopen:first").removeClass("dl-subviewopen").addClass("dl-subview"),$flyin.remove()};return setTimeout(function(){$flyin.addClass(self.options.animationClasses.classin),self.$menu.addClass(self.options.animationClasses.classout),self.supportAnimations?self.$menu.on(self.animEndEventName,onAnimationEndFn):onAnimationEndFn.call(),self.options.onLevelClick($item,$item.children("a:first").text())}),!1}self.options.onLinkClick($item,event)}),this.$back.on("click.dlmenu",function(event){var $this=$(this),$submenu=$this.parents("ul.dl-submenu:first"),$item=$submenu.parent(),$flyin=$submenu.clone().insertAfter(self.$menu),onAnimationEndFn=function(){self.$menu.off(self.animEndEventName).removeClass(self.options.animationClasses.classin),$flyin.remove()};return setTimeout(function(){$flyin.addClass(self.options.animationClasses.classout),self.$menu.addClass(self.options.animationClasses.classin),self.supportAnimations?self.$menu.on(self.animEndEventName,onAnimationEndFn):onAnimationEndFn.call(),$item.removeClass("dl-subviewopen");var $subview=$this.parents(".dl-subview:first");$subview.is("li")&&$subview.addClass("dl-subviewopen"),$subview.removeClass("dl-subview")}),!1})},closeMenu:function(){this.open&&this._closeMenu()},_closeMenu:function(){var self=this,onTransitionEndFn=function(){self.$menu.off(self.transEndEventName),self._resetMenu()};this.$menu.removeClass("dl-menuopen"),this.$menu.addClass("dl-menu-toggle"),this.$trigger.removeClass("dl-active"),this.supportTransitions?this.$menu.on(this.transEndEventName,onTransitionEndFn):onTransitionEndFn.call(),this.open=!1},openMenu:function(){this.open||this._openMenu()},_openMenu:function(){var self=this;$body.off("click").on("click.dlmenu",function(){self._closeMenu()}),this.$menu.addClass("dl-menuopen dl-menu-toggle").on(this.transEndEventName,function(){$(this).removeClass("dl-menu-toggle")}),this.$trigger.addClass("dl-active"),this.open=!0},_resetMenu:function(){this.$menu.removeClass("dl-subview"),this.$menuitems.removeClass("dl-subview dl-subviewopen")}};var logError=function(message){window.console&&window.console.error(message)};$.fn.dlmenu=function(options){if("string"==typeof options){var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,"dlmenu");return instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?void instance[options].apply(instance,args):void logError("no such method '"+options+"' for dlmenu instance"):void logError("cannot call methods on dlmenu prior to initialization; attempted to call method '"+options+"'")})}else this.each(function(){var instance=$.data(this,"dlmenu");instance?instance._init():instance=$.data(this,"dlmenu",new $.DLMenu(options,this))});return this}}(jQuery,window),news.prototype.increaseIndex=function(){this.index=this.index+this.pagination},news.prototype.createNewsRow=function(elmId){try{var lastItem=this.index+this.pagination<=this.list.length?this.index+this.pagination:this.list.length,elm=$(elmId),content="";content='<div class="row">';for(var i=this.index;i<lastItem;i++){var item=this.list[i];i>0&&(content+='<hr class="visible-xs">'),content+='\t<div class="col-sm-3 news-box">',content+='\t\t<a class="news-link" href="#news">',content+='\t\t\t<div class="clearfix news-box-mobile-break-content">',content+='\t\t\t\t<div class="news-img">',content+='\t\t\t\t\t<img class="news-image img-responsive center-block" src="assets/media/'+item.image+'" alt="'+item.label+" - "+item.title+'" title="'+item.title+'">',content+="\t\t\t\t</div>",content+='\t\t\t\t<div class="news-content">',content+='\t\t\t\t\t<span class="news-label">'+item.label+"</span>",content+='\t\t\t\t\t<h3 class="news-title">'+item.title+"</h3>",content+="\t\t\t\t</div>",content+="\t\t\t</div>",content+='\t\t\t<p class="news-description">'+item.description+"</p>",content+='\t\t\t<a class="news-share" href="'+item.url+'"><img src="assets/media/share_icon.png" alt="Compartilhar" title="Compartilhar"></a>',content+="\t\t</a>",content+="\t</div>"}content+="</div>",this.increaseIndex(),elm.append(content),$(".news-box").fadeIn(1e3)}catch(err){console.log(err.message)}},news.prototype.createMainNewsRow=function(elmId,type,index){try{var lastItem=2+index<=this.list.length?2+index:this.list.length,elm=$(elmId),content="";content='<div class="row">';for(var i=index;i<lastItem;i++){var item=this.list[i];content+='\t<div class="col-sm-6">',content+='\t\t<div class="news-main-'+type+'-box clearfix">',content+='\t\t\t<a class="main-news-link" href="#news">',content+='\t\t\t\t<div class="news-img">',content+='\t\t\t\t\t<img class="img-responsive" src="assets/media/'+item.image+'" alt="'+item.label+" - "+item.title+'" title="'+item.title+'">',content+='\t\t\t\t\t<span class="news-share visible-xs"><img src="assets/media/share_icon'+("top"==type?"_white":"")+'.png" alt="Compartilhar" title="Compartilhar"></span>',content+="\t\t\t\t</div>",content+='\t\t\t\t<div class="news-content">',content+='\t\t\t\t\t<span class="news-label">'+item.label+"</span>",content+='\t\t\t\t\t<h3 class="news-title">'+item.title+"</h3>",content+='\t\t\t\t\t<p class="news-description">'+item.description+"</p>",content+="\t\t\t\t</div>",content+="\t\t\t</a>",content+='\t\t\t<a class="news-share hidden-xs" href="'+item.url+'"><img src="assets/media/share_icon'+("top"==type?"_white":"")+'.png" alt="Compartilhar" title="Compartilhar"></a>',content+="\t\t</div>",content+="\t</div>","middle"==type&&i+1<lastItem&&(content+='\t<hr class="visible-xs">')}content+="</div>",elm.append(content),$(".news-main-"+type+"-box").fadeIn(1e3),$(".news-main-"+type+"-box span.news-share").click(function(e){e.preventDefault(),console.log("share something amazing...")})}catch(err){console.log(err.message)}},$.ajax({url:"./data.json"}).done(function(response){init(response)}).fail(function(){console.log("error")});var main,brasil,mundo=null;$(document).ready(function($){$(".load-more-news a").click(function(e){e.preventDefault(),id=$(this).attr("data-news"),"#news-brasil"==id&&brasil.createNewsRow(id),"#news-mundo"==id&&mundo.createNewsRow(id)}),$("#dl-menu").dlmenu({animationClasses:{classin:"dl-animate-in-2",classout:"dl-animate-out-2"}})});